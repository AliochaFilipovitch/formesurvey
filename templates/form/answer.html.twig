{% extends 'base.html.twig' %}

{% block title %}FormeSurvey &#8226; {{ survey.title }}{% endblock %}

{% block body %}
	<div class="row">
	  <div class="col-sm-4" style="background-color:
		{% if survey.status %}
			honeydew
		{% else %}
			mistyrose
		{% endif %}
		;">
		<h1 class="display-4">{{ survey.title }}</h1>
		<p>{{ survey.description }}</p>
		<h5>{{ survey.questions | length }} Question{% if survey.questions | length > 1 %}s{% endif %}</h5>
		<p>
			<small class="text-muted">
				Enquête réalisée par {{ survey.author }}, le {{ survey.createdAt | date('d/m/Y') }}
			</small>
		</p>
	  </div>
	  <div class="col-sm-8">
			{% set num = 0 %}
				{% for question in survey.questions %}
					{% set num = num + 1 %}
					<div class="card mb-1 mt-1">
					  <div class="card-body">
					    <h5 class="card-title">{{ num }}. {{ question.question }}</h5>
					    <p class="card-text">{{ question.categoryQuestion.title }}</p>
					    <div class="form-group">
					    	<label for="answer{{ num }}">Votre réponse:</label>
							<form action="" method="post">
								<div class="input-group mb-3">
									<input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="basic-addon2" id="answer{{ num }}" name="answer{{ num }}" required>

									<div class="input-group-append">
										<button class="btn btn-outline-secondary" type="submit">Enregistrer</button>
									</div>
								</div>
								<input type="hidden" id="question{{ num }}" name="question{{ num }}" value="{{ question.id }}">
								<input type="hidden" id="num" name="num"  value="{{ num }}">
							</form>
					    </div>
					  </div>
					</div>
				{% endfor %}
		<p class="text-center"><small class="text-muted">fin du formulaire</small></p>
	  </div>
	</div>

{% endblock %}
